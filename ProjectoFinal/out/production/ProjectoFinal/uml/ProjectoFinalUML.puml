@startuml
title Diagrama general del sistema de gestión de restaurante

'======================
' MODELO DE DOMINIO
'======================
abstract class Producto {
  - nombre : String
  - precio : double
  - stock : int
}
class Comida
class Bebida
class Postre
class Mesa
class Pedido
class ItemPedido
class Venta

Producto <|-- Comida
Producto <|-- Bebida
Producto <|-- Postre
Mesa "1" -- "0..*" Pedido
Pedido "1" -- "0..*" ItemPedido

'======================
' CAPA DE PERSISTENCIA
'======================
class "ArchivoRepository<T>" as ArchivoRepository {
  + guardar(List<T>, String)
  + cargar(String) : List<T>
}
class MesaRepository {
  - archivoRepo : ArchivoRepository<Mesa>
  + listar() : List<Mesa>
  + guardar(List<Mesa>)
}

MesaRepository --> ArchivoRepository : usa

'======================
' CAPA DE SERVICIOS
'======================
class MesaService {
  - repo : MesaRepository
  + listar() : List<Mesa>
  + crear(nombre : String)
  + eliminar(id : int)
  + cambiarEstado(id : int, estado : EstadoMesa)
  + asignarMozo(id : int, mozo : String)
}

MesaService --> MesaRepository : depende de

'======================
' CAPA DE INTERFAZ (UI)
'======================
class Menu_Principal {
  + getContentPane() : JPanel
  + getBtnGestiondeMesa() : JButton
  + getBtnCarta() : JButton
}
class GestionDeMesa {
  + getContentPane() : JPanel
  + getbtnVolverMenu() : JButton
}

Menu_Principal --> GestionDeMesa : navega a

'======================
' UTILITARIO Y MAIN
'======================
class Navegador {
  + registrar(nombre : String, vista : JPanel)
  + irA(nombre : String)
  + mostrar()
}
class Main

Main --> Navegador
Navegador --> Menu_Principal
Navegador --> GestionDeMesa
GestionDeMesa --> MesaService : usa (más adelante)

@enduml
